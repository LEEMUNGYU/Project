{"version":3,"file":"js/452.874481f2.js","mappings":"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","sources":["webpack://drfoody/./src/components/FoodyLogin.vue","webpack://drfoody/./src/components/FoodyLogin.vue?182b"],"sourcesContent":["<template>\r\n<foody-header />\r\n<div class=\"mainContents\">\r\n  <h2>반갑습니다</h2>\r\n<p class=\"p\">Dr.Food 서비스를 이용하기 위해서는<br>로그인이 필요합니다.</p>\r\n<br><br>\r\n  <main>\r\n    <form @submit.prevent=\"fnLogin\" method=\"get\"><!--로그인 정보 DB 입력??-->\r\n      <div class=\"input-group mb-3\">\r\n        <span class=\"input-group-text\" id=\"basic-addon1\"></span>\r\n        <input type=\"text\" class=\"form-control\" placeholder=\"아이디\" aria-label=\"아이디\" aria-describedby=\"basic-addon1\" v-model=\"user_id\">\r\n      </div>\r\n      <div class=\"input-group mb-3\">\r\n        <span class=\"input-group-text\" id=\"basic-addon1\"></span>\r\n        <input type=\"password\" class=\"form-control\" placeholder=\"비밀번호\" aria-label=\"비밀번호\"\r\n          aria-describedby=\"basic-addon1\" v-model=\"user_pw\">\r\n      </div>\r\n    </form>\r\n  </main>\r\n\r\n  <label for=\"autologin\"><input type=\"checkbox\" id=\"autologin\"  v-model=\"autoLogin\">자동 로그인</label>\r\n  <router-link v-bind:to=\"'/SignInUser'\" class=\"alink\">회원가입</router-link><!--회원가입 주소 href에 입력-->\r\n  <router-link v-bind:to=\"'/scPW'\" class=\"alink\">비밀번호 찾기</router-link><!--아이디 찾기 주소 href에 입력-->\r\n</div>\r\n  <button type=\"submit\" class=\"btn\" id=\"loginGo\" v-on:click=\"fnLogin()\">로그인</button>\r\n</template>\r\n\r\n<script>\r\nimport FoodyHeader from '@/layout/FoodyHeader.vue';\r\nimport axios from 'axios';\r\nimport { saveAuthToCookie, saveUserToCookie } from '@/utils/cookies';\r\nimport { getAuthFromCookie, getUserFromCookie } from '@/utils/cookies';\r\n\r\n\r\nexport default {\r\n  name: 'FoodyLogin',\r\n  data() {\r\n    return {\r\n      user_id: '',\r\n      user_pw: '',\r\n      autoLogin: false,\r\n    } \r\n  },\r\n    props: {\r\n    msg: String,\r\n  },\r\n  mounted() {  // 자동 로그인 로직 실행\r\n    this.performAutoLogin();\r\n  },\r\n  methods: {\r\n    fnLogin() {\r\n      const email = this.user_id;\r\n      const pwd = this.user_pw;\r\n      const autoLoginCheck = this.autoLogin;\r\n        axios({\r\n        method: 'get',\r\n        url: 'https://port-0-food-bag-jvpb2alnlhtxnz.sel5.cloudtype.app/user/login?',\r\n        params: {\r\n          email,\r\n          pwd,\r\n        }\r\n      })\r\n      .then((res) => {\r\n      const goMain = () => this.$router.push({path:'/board', name:'DashBoard',});\r\n      const result = res.data;\r\n        // 4. 로그인이 성공하면 다른 페이지로 이동한다.\r\n        switch(result.rst_cd){\r\n          case '-1': console.log(result);//\"계정이 존재하지 않습니다.\"\r\n            break;\r\n          case '-2': console.log(result);//\"비밀번호가 틀렸습니다.\"\r\n            break;\r\n          case '200': console.log(result);\r\n                      this.$store.commit('setUserEmail', email);\r\n                      this.$store.commit('setUserIdx', result.user_idx);\r\n                      this.$store.commit('setUserName', result.nickNm);\r\n                      this.$store.commit('setDiseaseNm', result.diseaseNm)\r\n                      this.$store.commit('setAllergieList', result.allergieList);\r\n                      if(autoLoginCheck === true ){ saveAuthToCookie(email);}\r\n                      if(autoLoginCheck === true ){ saveUserToCookie(pwd);} \r\n                      goMain();\r\n            break;\r\n          default:  console.log(result);//\"아이디와 비밀번호를 입력해주세요.\"\r\n            break;\r\n            }\r\n            })\r\n            .catch(err => {\r\n              console.log('에러!!!');\r\n              console.log(err);\r\n            })\r\n          }, \r\n        performAutoLogin(){//자동로그인\r\n          const email = getAuthFromCookie.call(this);\r\n          const pwd = getUserFromCookie.call(this);\r\n          if(email != '' && pwd != ''){\r\n            axios({\r\n            method: 'get',\r\n            url: 'https://port-0-food-bag-jvpb2alnlhtxnz.sel5.cloudtype.app/user/login?',\r\n            params: {\r\n                email,\r\n                pwd\r\n              }\r\n            })\r\n            .then((res) => {\r\n              const goMain = () => this.$router.push({path:'/board', name:'DashBoard',});\r\n              const result = res.data;\r\n              this.$store.commit('setUserEmail', email);\r\n              this.$store.commit('setUserIdx', result.user_idx);\r\n              this.$store.commit('setUserName', result.nickNm);\r\n              this.$store.commit('setDiseaseNm', result.diseaseNm)\r\n              this.$store.commit('setAllergieList', result.allergieList);\r\n              goMain();\r\n            })\r\n            .catch(err => {\r\n              console.log('에러!!!');\r\n              console.log(err);\r\n            })\r\n          }\r\n        },\r\n    },\r\n    components:{  FoodyHeader, },\r\n } \r\n\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n.mainContents{\r\n  box-sizing: border-box;\r\n  padding-top: 30%;\r\n  padding-bottom:12%;\r\n  margin:0;\r\n}\r\n\r\nh2 {\r\n    text-align: center;\r\n    color: #000;\r\n}\r\n\r\np {\r\n    /*Dr.Food 서비스를...*/\r\n    font-size: 17px;\r\n    color: #000;\r\n    text-align: center;\r\n    font-weight: 550;\r\n}\r\na{\r\n  color:#3f72af;\r\n  text-decoration : none;\r\n}\r\n\r\ninput[type=\"text\"] {\r\n    /*아이디*/\r\n    box-sizing:border-box;\r\n    width: 70vw;\r\n    padding: 10px;\r\n    border: 1px solid #3f72af;\r\n    font-weight: bold;\r\n    border-radius: 5px;\r\n    margin-inline: auto;\r\n}\r\n\r\ninput[type=\"password\"] {\r\n    /*비밀번호*/\r\n    box-sizing:border-box;\r\n    width: 70vw;\r\n    padding: 10px;\r\n    border: 1px solid #3f72af;\r\n    font-weight: bold;\r\n    border-radius: 5px;\r\n    margin-inline: auto;\r\n    margin-top: 5px;\r\n}\r\n\r\ninput[id=\"autologin\"] {\r\n    /*체크박스*/\r\n    margin-block: auto;\r\n}\r\n\r\nlabel { /*자동 로그인 글자*/\r\n    font-size: 15px;\r\n    text-align: center;\r\n    margin-top: 10px;\r\n    color: #3F72AF;\r\n}\r\n\r\ntable { /*회원가입, 아이디 찾기*/\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n    color: #3F72AF;\r\n}\r\n\r\n.alink { /*회원가입, 아이디 찾기*/\r\n    color: #3F72AF;\r\n    display: flex;\r\n    justify-content: center;\r\n    text-align: center;\r\n    gap: 10%;\r\n    text-decoration: none;\r\n}\r\n.btn{\r\n    display: flex;\r\n    position: fixed;\r\n    left:0;\r\n    right:0;\r\n    bottom:0;\r\n    justify-content: center;\r\n    height: 8vh;\r\n    width: 100vw;\r\n    overflow:hidden;\r\n    padding-top: 2%;\r\n    padding-bottom: 2%;\r\n    background-color: #dbe2ef;\r\n    color: #3F72AF;\r\n    font-size: 1.8rem;\r\n    font-weight: bold;\r\n    border: none;\r\n  }\r\n</style>\r\n","import { render } from \"./FoodyLogin.vue?vue&type=template&id=71e5f38e&scoped=true\"\nimport script from \"./FoodyLogin.vue?vue&type=script&lang=js\"\nexport * from \"./FoodyLogin.vue?vue&type=script&lang=js\"\n\nimport \"./FoodyLogin.vue?vue&type=style&index=0&id=71e5f38e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-71e5f38e\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createTextVNode","id","for","_createElementBlock","_Fragment","_createVNode","_component_foody_header","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","onSubmit","_cache","_withModifiers","args","$options","fnLogin","method","_hoisted_6","_hoisted_7","type","placeholder","$event","$data","user_id","_hoisted_8","_hoisted_9","user_pw","_hoisted_10","autoLogin","_component_router_link","to","default","_withCtx","_","onClick","name","data","props","msg","String","mounted","this","performAutoLogin","methods","email","pwd","autoLoginCheck","axios","url","params","then","res","goMain","$router","push","path","result","rst_cd","console","log","$store","commit","user_idx","nickNm","diseaseNm","allergieList","saveAuthToCookie","saveUserToCookie","catch","err","getAuthFromCookie","call","getUserFromCookie","components","FoodyHeader","__exports__","render"],"sourceRoot":""}